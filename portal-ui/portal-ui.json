{
  "$schema": "<relative path to createFormUI.schema.json>",
  "view": {
      "kind": "Form",
      "properties": {
          "isWizard": false,
          "title": "Azure Virtual Desktop - Replacement Plans Deployment",
          "steps": [
              {
                  "name": "basics",
                  "label": "Deployment Basics",
                  "elements": [
                      {
                          "name": "resourceScope",
                          "type": "Microsoft.Common.ResourceScope",
                          "location": {
                              "resourceTypes": [
                                  "Microsoft.DesktopVirtualization/workspaces"
                              ]
                          }
                      },
                      {
                          "name": "RequiredSettings",
                          "type": "Microsoft.Common.Section",
                          "visible": true,
                          "label": "Required Settings",
                          "elements": [
                              {
                                  "name": "deploymentPrefix",
                                  "type": "Microsoft.Common.TextBox",
                                  "label": "Prefix",
                                  "toolTip": "Provide a prefix (max 4 characters) for the resource groups and resources created as part of Azure Virtual Desktop landing zones.",
                                  "placeholder": "Example: app1",
                                  "constraints": {
                                      "required": true,
                                      "regex": "^[a-z0-9A-Z-]{1,4}$",
                                      "validationMessage": "The prefix must be 1-4 characters."
                                  }
                              },
                              {
                                "name": "storageSelector",
                                "type": "Microsoft.Solutions.ResourceSelector",
                                "label": "Select storage accounts",
                                "resourceType": "Microsoft.DesktopVirtualization/HostPools",
                                "options": {
                                  "filter": {
                                    "subscription": "onBasics",
                                    "location": "onBasics"
                                  }
                                }
                              },
                              {
                                  "name": "deploymentPrefix",
                                  "type": "Microsoft.Common.DropDown",
                                  "visible": true,
                                  "label": "Environment",
                                  "defaultValue": "Development",
                                  "toolTip": "Select the type of environment (Development (d), Test (t), Production (p)) that will be deployed, this information will be use as part of the resources naming.",
                                  "constraints": {
                                      "allowedValues": [
                                          {
                                              "label": "Development",
                                              "value": "Dev"
                                          },
                                          {
                                              "label": "Test",
                                              "value": "Test"
                                          },
                                          {
                                              "label": "Production",
                                              "value": "Prod"
                                          }
                                      ]
                                  }
                              }
                          ]
                      }
                  ]
              }
          ]
      },
      "outputs": {
          "parameters": {
              "deploymentPrefix": "[steps('basics').RequiredSettings.storageSelector]"
          },
          "kind": "Subscription",
          "location": "[steps('basics').resourceScope.location.name]",
          "subscriptionId": "[steps('basics').resourceScope.subscription.id]"
      }
  }
}